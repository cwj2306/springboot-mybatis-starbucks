<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- repository 패키지 경로.내xml파일명Repository 로생성 -->
<mapper namespace="com.cos.starbucks.repository.UserRepository">
	<select id="findByUsername" resultType="com.cos.starbucks.model.User">
		select * from User where username = #{username}
	</select>
	
	<select id="findAll" resultType="com.cos.starbucks.model.User">
		select * from user
	</select>
	
	<insert id="join">
		INSERT INTO user (username, password, name, email, provider, providerId, createDate) VALUES (#{username}, #{password}, #{name}, #{email}, #{provider}, #{providerId}, now())
	</insert>
	
	<select id="findByProviderAndProviderId" resultType="com.cos.starbucks.model.User">
		select * from User where provider = #{provider} AND providerId = #{providerId}
	</select>

	<update id="changePw">
	update user set password=#{password} where username="admin"
	</update>
	
	<update id="moneyUp">
	update user set money=#{money} where id=#{id}
	</update>
</mapper>